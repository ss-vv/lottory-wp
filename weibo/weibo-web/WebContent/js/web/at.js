/* * @author: wanglei, yangbo * @date:13/12/17 * @name: 转换@符号*///Element.prototype.at = function(){//	var jqElement = $(this);//	var content = jqElement[0].innerHTML;//	var regexp = /((@(.+?))( |&nbsp;)|@(.+?)(<|$))/gm;//	var replaced = '';//	replaced = content.replace(regexp, //		function(matched, group1, group2, group3, //				group4, group5, group6, pos, targetStr){//			if(group3){//				return profileURL(group3)+group4;//			}//			if(group5){//				return profileURL(group5)+group6;//			}//	});//	jqElement.html(replaced);//};/**由于IE7不支持element.prototype的原型链扩展，故使用Jquery扩展*/$.fn.extend({	at:function() {		var jqElement = $(this);		var content = jqElement[0].innerHTML;		var regexp = /((@(.+?))(:|\s|&nbsp;)|@(.+?)(<|$))/gm;		var replaced = '';		replaced = content.replace(regexp, 			function(matched, group1, group2, group3, 					group4, group5, group6, pos, targetStr){				if(group3){					return profileURL(group3)+group4;				}				if(group5){					return profileURL(group5)+group6;				}		});		jqElement.html(replaced);	}});function profileURL(name){	var url = encodeURIComponent(name);	url = '/name/' + url +'/profile';	return '<a target="_blank" href="'+ url +'">@'+name +'</a>';}function isin(array, obj){	for(var rti=0 ; rti < array.length; rti++){		if(array[rti] == obj){			return true;		}	}	return false;}