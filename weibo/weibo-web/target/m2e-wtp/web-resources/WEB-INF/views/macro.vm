#macro (cssResEnvironment $isDebug 1.1.0)
	#if($isDebug)
		<link type="text/css" rel="stylesheet" href="$base/css/bootstrap.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/home.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/emoticon.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/jquery.ias.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/index.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/widgets.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/search.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/base.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/header.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/body.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/cp_type.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/wb_list.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/footer.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/jquery.atwho.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/jquery.autocomplete.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/label-slide.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/float-left.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/float-match.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/follow-page.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/ui-lightness/jquery-ui.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/match-schedule.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/list-open.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/roll-winners.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/pop.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/post-and-share.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/assets/js/user-relationship/css/relationship.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/assets/js/bet/css/base.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/assets/js/bet/css/module.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/assets/js/bet/css/bet-record.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/assets/js/bet/css/new-scheme.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/assets/js/backtop/backtop.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/police.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/davcai/analyse/betting-data.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/davcai/analyse/base.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/davcai/odds/fb-odds.css?v=1.1.0"/>
		<link type="text/css" rel="stylesheet" href="$base/css/davcai/odds/fb-odds-base.css?v=1.1.0"/>
		
	#else
		<link type="text/css" rel="stylesheet" href="$base/css/davcai-web.css?v=1.1.0" />
	#end
#end
#macro (jsResEnvironment $isDebug 1.1.0)
	#if($isDebug)
		<script language="javascript" type="text/javascript" src="$base/js/web/plugins/cookie/jquery.cookie.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/jquery.blockUI.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/widgets/jquery.matchurl.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/placeholder.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/bootstrap.min.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/ui.core.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/load-header.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/common.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/ye_dialog.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/jquery-ias.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/jquery.mustache.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/jquery.util.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/search.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/lottery.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/widgets/jquery.atwho.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/widgets/jquery.autocomplete.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/atDemo.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/label-slide.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/jquery.dateFormat-1.0.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/daily_topics.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/relationship.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/float-dialog/float-user-info.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/float-dialog/float-match-info.js?v=1.1.0"></script>
		
		<!--login-->
		<script language="javascript" type="text/javascript" src="$base/js/web/recommend-user.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/login.js?v=1.1.0"></script>
		
	    <!--home page-->
	    <script language="javascript" type="text/javascript" src="$base/js/web/jquery-ui/jquery.ui.datepicker.js?v=1.1.0"></script> 
		<script language="javascript" type="text/javascript" src="$base/js/web/match/match-schedule.js?v=1.1.0"></script> 
		<script language="javascript" type="text/javascript" src="$base/js/web/pager.js?v=1.1.0"></script> 
		<script language="javascript" type="text/javascript" src="$base/js/web/jquery.form.min.js?v=1.1.0"></script> 
		<script language="javascript" type="text/javascript" src="$base/js/web/at.js?v=1.1.0"></script> 
		<script language="javascript" type="text/javascript" src="$base/js/web/share.js?v=1.1.0"></script> 
		<script language="javascript" type="text/javascript" src="$base/js/web/mlellipsis.js?v=1.1.0"></script> 
		<script language="javascript" type="text/javascript" src="$base/js/web/bet-ssq-common.js?v=1.1.0"></script> 
		<script language="javascript" type="text/javascript" src="$base/js/web/bet-jx11-common.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/comments.js?v=1.1.0"></script> 
		<script language="javascript" type="text/javascript" src="$base/js/web/home/announceAndWinning.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/home/interest_user.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/js/web/home.js?v=1.1.0"></script>
		
		<script language="javascript" type="text/javascript" src="$base/assets/js/core/base.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/core/lottery.events.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/core/lottery.settings.js?v=1.1.0"></script>
		
		<script language="javascript" type="text/javascript" src="$base/assets/js/user-relationship/js/add-follow-btn.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/user-relationship/js/interest-user.js?v=1.1.0"></script>
		
		<!-- cometd -->
		<script language="javascript" type="text/javascript" src="$base/assets/js/cometd/lib/cometd.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/cometd/jquery/jquery.cometd.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/bet/match-score-sub.js?v=1.1.0"></script>
		
		<script language="javascript" type="text/javascript" src="$base/assets/js/weibo-msg/weibo-list.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/weibo-msg/weibo-list-panel.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/weibo-msg/forward-dialog.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/weibo-msg/share-dialog.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/weibo-msg/comments-container.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/weibo-msg/comment-list.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/weibo-msg/praise.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/weibo-msg/real-weibo-follow-users.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/bet/scheme-view.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/bet/follow-real-weibo-dialog.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/bet/groupbuy-real-weibo-dialog.js?v=1.1.0"></script>
		
		<script language="javascript" type="text/javascript" src="$base/assets/js/match/push-match-type.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/bet/status-tool.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/bet/lottery-tab.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/bet/bet-record-panel.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/bet/bet-record-list.js?v=1.1.0"></script>
		
		
		<script language="javascript" type="text/javascript" src="$base/assets/js/marrow/marrow.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/marrow/winning.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/marrow/hot-discuss.js?v=1.1.0"></script>
		<script language="javascript" type="text/javascript" src="$base/assets/js/marrow/latest-publish.js?v=1.1.0"></script>
		
		<script language="javascript" type="text/javascript" src="$base/assets/js/recommend/recommend.js?v=1.1.0"></script>
		
		<script language="javascript" type="text/javascript" src="$base/assets/js/realfollow/real-and-follow.js?v=1.1.0"></script>
		
		<script language="javascript" type="text/javascript" src="$base/assets/js/backtop/backtop.js?v=1.1.0"></script>
		
		<script language="javascript" type="text/javascript" src="$base/js/web/notification.js?v=1.1.0"></script>
	#else
	    <script language="javascript" type="text/javascript" src="$base/js/davcai-web.min.js?v=1.1.0"></script>
	#end
#end

#macro (pager $url $p $maxList)
	#set($span = (${maxList} - 3)/2)
	#set($__pc = $p.pageCount)
    #if($url.indexOf("?") != -1)
        #set($cURL=($url + "&pageNo="))
    #else
        #set($cURL=($url + "?pageNo="))
    #end
    	<span class="r page inb_a">
	#if($p.pageNo > 1)
		<a class="prev" href="${cURL}${p.prevPageNo}" class="btn_p" pageNo="1">上一页</a>
    #end
    
    #set($totalNo = ${span} * 2 + 3)
    #set($totalNo1 = $totalNo - 1)
    #if($p.pageCount > $totalNo)
    	#if($p.pageNo <= $span + 2)
    		#foreach($i in [1..$totalNo1])
		        #linkA(${p.pageNo}, $i, $cURL)
		    #end
		    #linkA(0, 0, "#")
		    #linkA(${p.pageNo}, ${p.pageCount}, $cURL)
    	#elseif($p.pageNo > ($p.pageCount - (${span} + 2)))
    		#linkA(${p.pageNo}, 1, ${cURL})
			#linkA(0, 0, "#")
			#set($num = ${p.pageCount} - ${totalNo} + 2)
			#foreach($i in [$num..${p.pageCount}])
	        	#linkA(${p.pageNo}, ${i}, ${cURL})
	        #end
    	#else
    		#linkA(${p.pageNo}, 1, $cURL)
    		#linkA(0 0 "#")
			#set($num = ${p.pageNo}-${span})
			#set($num2 = ${p.pageNo}+$span)
    		#foreach($i in [$num..$num2])
		        #linkA($p.pageNo, $i, $cURL)
		    #end
		    #linkA(0, 0, "#")
		    #linkA($p.pageNo, $p.pageCount, $cURL)
    	#end
    #elseif ($p.pageCount > 1)
		#foreach($i in [1..$p.pageCount])
	        #linkA(${p.pageNo}, $i, $cURL)
	    #end
    #else
        #linkA(1, 1, $cURL)
    #end
    
    #if ($p.pageNo < $p.pageCount)
		<a href="${cURL}${p.nextPageNo}" class="btn_p" pageNo="1">下一页</a>
	#end
	
	&nbsp;转到<input type="text" name="_pageNo" class="txts" size="4" /><input type="button" value="GO" class="hand" onclick="_goPage(this)" />
	  <script type="text/javascript">
	  var pcount = "${__pc}";
	  
	  function _goPage(el){
	  	var pageNo = 1;
	 	var inputs = el.parentNode.getElementsByTagName('input');
	  	for(var i=0;i<inputs.length;i++){
	  		var name=inputs[i].getAttribute('name');
			if(name && name == '_pageNo'){
				pageNo=inputs[i].value;
				break;
		  	};
	  	};
	  	if(pageNo>0 && pageNo<=pcount){
			location.href='$cURL'+pageNo;
	  	}else{
	    	alert('请输入正确的页数');
	  	}
	  }
	  </script>
	</span>
#end


<#-- 分页链接A -->
#macro (linkA $pageNo $idx $url)
	#if ($idx == 0)
		<span>...</span>
    #elseif ($pageNo == $idx)
		 <a href="javascript:void(0);"><b>${idx}</b></a>
    #else
        <a href="${url}${idx}">${idx}</a>
    #end
#end

#macro (umenu $url $cur $pos $text)
  #if($cur == $pos)
    <a href="javascript:void(0);" class="cur"><span class="bg_l"><span class="bg_r">$text 
    #if($cur == 'myvoucher' || $cur == 'rh')<img src="http://trade.davcai.com/ac/images/bet/new.gif"/>
    #elseif($cur == 'inbox')<span id="menuInboxCount"></span>
    #end</span></span></a>
  #else
    <a href="$url"><span class="bg_l"><span class="bg_r">$text 
    #if($cur == 'myvoucher'  || $cur == 'rh')<img src="http://trade.davcai.com/ac/images/bet/new.gif"/>
    #elseif($cur == 'inbox')<span id="menuInboxCount"></span>
    #end</span></span></a>
  #end
#end

## ----------------- 大V彩代码 --------------------

#macro (format_date $the_date)
    $date.format("yyyy-MM-dd HH:mm:ss", $the_date)
#end

#macro (user_home_url $userId)
http://www.davcai.com/$userId/profile
#end

#macro (weibo_url $weibo)
http://www.davcai.com/$weibo.ownerId/$weibo.id
#end

#macro (pagerHtml $curPage $totalPages)
    #set($prev = $curPage - 1)
    #if($prev < 1)
        #set($prev=1)
    #end
    #set($next = $curPage + 1)
    #if($next > $totalPages)
        #set($next=$totalPages)
    #end
    #set($width=2)
    #set($pager = $Pager.paging($curPage, $totalPages, 2))
    #set($url = $Pager.filterUrl($request, 'page'))
    #if($totalPages>1)
    <ul class="pager">
        #if( $prev != $curPage )
        <li class="last"><a data-page="$prev" href="?$url&page=$prev"><span>上一页</span><i></i></a></li>
        #end
        #foreach($pageNo in $pager.pages)
            #if($pageNo == -1)
                <li>...</li>
            #else
                <li #if($pageNo==$curPage)class="active"#end><a data-page="$pageNo" href="?$url&page=$pageNo">$pageNo</a></li>
            #end
        #end
        #if( $next != $totalPages )
        <li class="next"><a data-page="$next" href="?$url&page=$next"><span>下一页</span><i></i></a></li>
        #end
    </ul>
    #end
#end

#macro(subPlayType $code $t)
      #if($code)
          #set($s="")
          #if($code.length() >= 4)
           #set($str=$code.substring(4))
           #if($t=="bjdc")
            #set($str=$code.substring(3))
           #end
           #if($str=="3")
             #set($s="胜")
            #elseif($str=="1")
             #set($s="平")
            #elseif($str=="0")
              #set($s="负")
            #elseif($str=="31")
              #set($s="胜,平")
            #elseif($str=="30")
              #set($s="胜,负")
            #elseif($str=="10")
              #set($s="平,负")
            #elseif($str=="310")
              #set($s="胜,平,负")
            #end
               $s
          #end
     #end
#end

#macro(computePrize $code $odds $t)
      #if($code && $odds)
         #if($code.length() >= 4)
              #set($str=$code.substring(4))
              #set($od=1)
              #if($t=="bjdc")
               #set($str=$code.substring(3))
               #set($od=0.65)
              #end
              #set($prize="")
              #if($str.length()==1)
                  #if($str=="3")
                    ##if($odds.length > 0)
                      #set($prize=$odds[0]*2*$od) 
                    ##end
                  #elseif($str=="1")
                    ##if($odds.length > 1)
                      #set($prize=$odds[1]*2*$od)
                    ##end
                  #elseif($str=="0")
                    ##if($odds.length > 2)
                    #set($prize=$odds[2]*2*$od)
                    ##end
                  #end
                  ##if($prize.indexOf(".")!=-1)
                   ##set($b=$prize.indexOf("."))   
                   ##set($prize=$prize.substring(0,2))
                  ##end
                  $prize
                 
              #elseif($str.length() > 1)
                  #set($odd = "1")
                  #if($str.contains("3"))
                     #set($odd = $odds[0])
                  #end
                    #if($str.contains("1"))
                     #if(!$odd)
                        #set($odd = $odds[1])
                     #else
                        #if($odd < $odds[1])
                           #set($odd = $odds[1])
                        #end
                     #end
                  #end
                  
                  #if($str.contains("0"))
                     #if(!$odd)
                        #set($odd = $odds[2])
                     #else
                        #if($odd < $odds[2])
                           #set($odd = $odds[2])
                        #end
                     #end
                  #end
                  #set($mon=$odd*2)  
                  $mon
              #end
         #end         
      #end  
#end

#macro (getPlayId $scheme $betMatch)
	#if($betMatch.playId)
		#set($_playId = $betMatch.playId)
	#else
		#set($_playId = $scheme.playId)
	#end
#end

#macro (passType $passType)
     #if($passType)
       #set($s=$passType.replaceAll("@","串"))
       #set($s=$s.replaceAll(","," "))
        $s
     #end
#end

#macro (isChecked $code $chice $t)
     #if($code && $code.length() >= 4)
      #set($res="")
      #set($str=$code.substring(4))
      #if($t=="bjdc")
        #set($str=$code.substring(3))
      #end 
        #if($str.contains($chice))
          #set($res="actice")
        #end
        $res
     #end
#end


#macro(bbPlayType $code)
      #if($code)
          #set($s="")
          #if($code.length() > 4)
           #set($str=$code.substring(4))
           #if($str=="2")
             #set($s="胜")
            #elseif($str=="1")
             #set($s="负")
            #elseif($str=="21")
              #set($s="胜,负")
            #end
               $s
          #end
     #end
#end
#macro(computeBBPrize $code $odds)
     #if($code && $odds)
       #if($code.length() > 4)
          #set($str=$code.substring(4))
          #set($prize="")
            #if($str.length()==1)
              #if($str=="2")
                  #set($prize=$odds[0]*2)
              #elseif($str=="1")
                  #set($prize=$odds[2]*2)
              #end
            #elseif($str.length()==2)
               #if($str=="21")
                  #if($odds[0]>$odds[2])
                    #set($prize=$odds[0]*2)
                  #elseif($odds[0]<$odds[2])
                     #set($prize=$odds[2]*2)
                  #end
               #end
            #end
            $prize
       #end
     #end
#end

#macro(computeChoiceNum $code $t)
    #if($code)
        #if($code.length()>=4)
            #set($num=$code.substring(4).length())
            #if($t=="bjdc")
             #set($num=$code.substring(3).length())
            #end
            $num
        #end
    #end
#end
#macro(computeInitMoney $code $t)
        #if($code)
        #if($code.length()>=4)
            #set($num=$code.substring(4).length())
            #if($t=="bjdc")
              #set($num=$code.substring(3).length())
            #end
            #set($mon=$num*2)
            $mon
        #end
    #end
#end
